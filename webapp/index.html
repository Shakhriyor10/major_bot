<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ê–≤—Ç–æ—Å–∞–ª–æ–Ω</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="/webapp/style.css" />
</head>
<body>
  <div class="container">
    <header class="header">
      <h1 class="title">üöò –ê–≤—Ç–æ—Å–∞–ª–æ–Ω—ã</h1>
      <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –∞–≤—Ç–æ—Å–∞–ª–æ–Ω, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É.</p>
    </header>

    <section id="dealershipSection" class="menu-grid"></section>

    <section id="submenuSection" class="hidden">
      <button id="backToDealerships" class="back-btn">‚Üê –ù–∞–∑–∞–¥ –∫ –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–∞–º</button>
      <h2 id="selectedDealershipTitle"></h2>
      <div class="menu-grid">
        <button class="menu-card" data-target="carsSection">
          <span class="menu-card-content">
            <span class="menu-card-title">–ê–≤—Ç–æ–º–æ–±–∏–ª–∏</span>
            <span class="menu-card-subtitle">–ö–∞—Ç–∞–ª–æ–≥ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–∞</span>
          </span>
        </button>
        <button class="menu-card" data-target="locationSection">
          <span class="menu-card-content">
            <span class="menu-card-title">–ê–¥—Ä–µ—Å –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</span>
            <span class="menu-card-subtitle">–ö–æ–Ω—Ç–∞–∫—Ç—ã –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–∞</span>
          </span>
        </button>
        <button class="menu-card" data-target="supportSection">
          <span class="menu-card-content">
            <span class="menu-card-title">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
            <span class="menu-card-subtitle">–°–≤—è–∑–∞—Ç—å—Å—è —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º</span>
          </span>
        </button>
      </div>
    </section>

    <section id="locationSection" class="support-box hidden">
      <button id="backToSubmenuFromLocation" class="back-btn">‚Üê –ù–∞–∑–∞–¥</button>
      <h2>–ê–¥—Ä–µ—Å –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</h2>
      <iframe id="locationMap" class="map-frame" title="–ö–∞—Ä—Ç–∞ –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–∞" loading="lazy"></iframe>
      <p id="locationAddress" class="subtitle location-address"></p>
      <p id="locationPhone" class="location-phone"></p>

      <form id="dealershipForm" class="admin-form hidden">
        <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–∞</h3>
        <input id="dealershipAddressInput" placeholder="–ê–¥—Ä–µ—Å" required />
        <input id="dealershipPhoneInput" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" required />
        <input id="dealershipMapInput" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç—É" required />
        <button type="submit" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã</button>
      </form>
      <p id="dealershipStatus" class="subtitle"></p>
    </section>

    <section id="carsSection" class="hidden">
      <button id="backToSubmenuFromCars" class="back-btn">‚Üê –ù–∞–∑–∞–¥</button>
      <div class="filters-box">
        <div class="filter-item filter-item-search">
          <label for="carSearch">–ü–æ–∏—Å–∫</label>
          <input id="carSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –º–∞—Ä–∫–µ" />
        </div>
        <div class="filter-item">
          <label for="brandFilter">–§–∏–ª—å—Ç—Ä –ø–æ –º–∞—Ä–∫–µ</label>
          <div class="select-wrap">
            <select id="brandFilter">
              <option value="">–í—Å–µ –º–∞—Ä–∫–∏</option>
            </select>
          </div>
        </div>
      </div>
      <div id="cars" class="grid"></div>
    </section>

    <section id="adminBox" class="support-box hidden">
      <h2>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
      <p class="subtitle">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è —Å –≤—ã–±–æ—Ä–æ–º –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–∞ –∏ –≤–∞–ª—é—Ç—ã.</p>
      <form id="adminForm" class="admin-form">
        <input type="hidden" id="carId" />
        <select id="dealership_id" required></select>
        <input id="brand" placeholder="–ú–∞—Ä–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è" required />
        <input id="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" required />
        <input id="price" placeholder="–¶–µ–Ω–∞ (—á–∏—Å–ª–æ)" required />
        <select id="currency" required>
          <option value="UZS">–°—É–º (UZS)</option>
          <option value="USD">–î–æ–ª–ª–∞—Ä (USD)</option>
        </select>
        <input id="engine" placeholder="–û–±—ä–µ–º –¥–≤–∏–≥–∞—Ç–µ–ª—è" required />
        <textarea id="description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" required></textarea>
        <input id="image_url" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ç–æ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" />
        <div class="admin-actions">
          <button type="submit" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          <button type="button" id="cancelEdit" class="btn btn-secondary hidden">–û—Ç–º–µ–Ω–∞</button>
        </div>
      </form>
      <p id="adminStatus" class="subtitle"></p>
    </section>

    <section id="supportSection" class="support-box hidden">
      <button id="backToSubmenuFromSupport" class="back-btn">‚Üê –ù–∞–∑–∞–¥</button>
      <h2>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h2>
      <p class="subtitle">–û–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å, –∏ –º–µ–Ω–µ–¥–∂–µ—Ä –æ—Ç–≤–µ—Ç–∏—Ç –≤–∞–º –≤ Telegram.</p>
      <textarea id="supportText" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –≤—ã–±–æ—Ä–æ–º –∫—Ä–æ—Å—Å–æ–≤–µ—Ä–∞"></textarea>
      <button id="sendSupport" class="btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É</button>
      <p id="status" class="subtitle"></p>
    </section>
  </div>

  <script src="/webapp/app.js"></script>
</body>
</html>